<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">

<head>
	<meta charset="UTF-8">
	<title>情報管理ダッシュボード</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
	<div class="container-fluid p-4">

		<!-- タイトル＆戻るボタン -->
		<div class="d-flex justify-content-between align-items-center mb-4">
			<h2>情報管理ダッシュボード</h2>
			<a th:href="@{/admin}" class="btn btn-secondary">従業員トップへ戻る</a>
		</div>

		<!-- フィルタカード -->
		<div class="card mb-4 p-3">
			<h5 class="mb-3">集計条件</h5>

			<form th:action="@{/employee/info}" method="get">
				<div class="row g-3">

					<!-- 集計期間 -->
					<div class="col-md-4">
						<label class="form-label">集計期間</label>
						<input type="date" class="form-control mb-1" name="startDate">
						<input type="date" class="form-control" name="endDate">
					</div>

					<!-- カテゴリ -->
					<div class="col-md-4">
						<label class="form-label">カテゴリ</label>
						<select class="form-select" name="category">
							<option value="">選択してください</option>
							<option>商品カテゴリ</option>
							<option>アーティスト</option>
							<option>映画監督</option>
						</select>
					</div>

					<!-- 検索キーワード -->
					<div class="col-md-4">
						<label class="form-label">検索キーワード</label>
						<input type="text" class="form-control" name="keyword" placeholder="タイトル・名前など">
					</div>

				</div>

				<div class="mt-3 text-end">
					<button class="btn btn-primary me-2">集計実行</button>
					<a th:href="@{/employee/info/csv}" class="btn btn-success me-2">CSV出力</a>
					<button type="button" class="btn btn-outline-primary">グラフ表示切替</button>
				</div>
			</form>
		</div>

		<!-- タブ -->
		<ul class="nav nav-tabs mb-3" id="rankTabs">
			<li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#rental">商品レンタルランキング</a></li>
			<li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#artist">アーティスト人気ランキング</a></li>
			<li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#director">映画監督人気ランキング</a></li>
		</ul>

		<div class="tab-content">

			<!-- 商品レンタルランキング -->
			<div class="tab-pane fade show active" id="rental">
				<div class="card p-3 mb-4">
					<h5>商品レンタルランキング</h5>
					<table class="table mt-3">
						<thead>
							<tr>
								<th>順位</th>
								<th>商品名</th>
								<th>レンタル数</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="r : ${rentalRanking}">
								<td th:text="${r.rank}"></td>
								<td th:text="${r.name}"></td>
								<td th:text="${r.count}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- アーティスト -->
			<div class="tab-pane fade" id="artist">
				<div class="card p-3 mb-4">
					<h5>アーティスト人気ランキング</h5>
					<table class="table mt-3">
						<thead>
							<tr>
								<th>順位</th>
								<th>アーティスト名</th>
								<th>レンタル数</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="a : ${artistRanking}">
								<td th:text="${a.rank}"></td>
								<td th:text="${a.name}"></td>
								<td th:text="${a.count}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- 映画監督 -->
			<div class="tab-pane fade" id="director">
				<div class="card p-3 mb-4">
					<h5>映画監督人気ランキング</h5>
					<table class="table mt-3">
						<thead>
							<tr>
								<th>順位</th>
								<th>監督名</th>
								<th>レンタル数</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="d : ${directorRanking}">
								<td th:text="${d.rank}"></td>
								<td th:text="${d.name}"></td>
								<td th:text="${d.count}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

		</div>


		<!-- トレンド情報 -->
		<div class="card p-3 mb-4">
			<h5 class="mb-3">トレンド情報</h5>
			<table class="table">
				<thead>
					<tr>
						<th>タイトル</th>
						<th>閲覧数</th>
						<th>レンタル数</th>
						<th>増加率</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="t : ${trendList}">
						<td th:text="${t.title}"></td>
						<td th:text="${t.views}"></td>
						<td th:text="${t.rentals}"></td>
						<td th:text="${t.growth}"></td>
					</tr>
				</tbody>
			</table>
		</div>

		<!-- 会員動向 -->
		<div class="card p-3">
			<h5 class="mb-3">会員動向（地域 / 年齢別など）</h5>
			<div style="height:250px;" class="bg-light border rounded d-flex justify-content-center align-items-center">
				<span>（グラフ表示予定）</span>
			</div>
		</div>

	</div>
</body>

</html>